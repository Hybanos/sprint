-- MariaDB dump 10.19  Distrib 10.4.24-MariaDB, for Linux (x86_64)
--
-- Host: localhost    Database: SPRINT
-- ------------------------------------------------------
-- Server version	10.4.24-MariaDB

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Current Database: `SPRINT`
--

CREATE DATABASE /*!32312 IF NOT EXISTS*/ `SPRINT` /*!40100 DEFAULT CHARACTER SET utf8mb4 */;

USE `SPRINT`;

--
-- Table structure for table `CATEGORIE`
--

DROP TABLE IF EXISTS `CATEGORIE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `CATEGORIE` (
  `IDCATEGORIE` int(11) NOT NULL AUTO_INCREMENT,
  `NOMROLE` varchar(32) DEFAULT NULL,
  PRIMARY KEY (`IDCATEGORIE`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `CATEGORIE`
--

LOCK TABLES `CATEGORIE` WRITE;
/*!40000 ALTER TABLE `CATEGORIE` DISABLE KEYS */;
INSERT INTO `CATEGORIE` VALUES (1,'Agent'),(2,'medecin'),(3,'Directeur');
/*!40000 ALTER TABLE `CATEGORIE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `CLIENT`
--

DROP TABLE IF EXISTS `CLIENT`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `CLIENT` (
  `IDCLIENT` int(11) NOT NULL AUTO_INCREMENT,
  `NOM` varchar(32) DEFAULT NULL,
  `PRENOM` varchar(32) DEFAULT NULL,
  `ADRESSE` varchar(32) DEFAULT NULL,
  `NUMTEL` int(11) DEFAULT NULL,
  `DATENAISSANCE` date DEFAULT NULL,
  `DEPARTEMENTNAISSANCE` int(11) DEFAULT NULL,
  `PAYSNAISSANCE` varchar(32) DEFAULT NULL,
  `NSS` bigint(8) DEFAULT NULL,
  `SOLDE` int(11) DEFAULT NULL,
  PRIMARY KEY (`IDCLIENT`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `CLIENT`
--

LOCK TABLES `CLIENT` WRITE;
/*!40000 ALTER TABLE `CLIENT` DISABLE KEYS */;
INSERT INTO `CLIENT` VALUES (6,'tt','t','t',0,'2023-01-02',99,'hongrie',5,1700),(7,'A','A','A',0,'2022-12-27',77,'France',100,1000);
/*!40000 ALTER TABLE `CLIENT` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `CONSIGNE`
--

DROP TABLE IF EXISTS `CONSIGNE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `CONSIGNE` (
  `IDCONSIGNE` int(11) NOT NULL AUTO_INCREMENT,
  `CONSIGNE` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`IDCONSIGNE`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `CONSIGNE`
--

LOCK TABLES `CONSIGNE` WRITE;
/*!40000 ALTER TABLE `CONSIGNE` DISABLE KEYS */;
INSERT INTO `CONSIGNE` VALUES (1,'C1'),(2,'C2'),(3,'C3'),(4,'C4');
/*!40000 ALTER TABLE `CONSIGNE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `MEDECIN`
--

DROP TABLE IF EXISTS `MEDECIN`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `MEDECIN` (
  `IDSPECIALITE` int(11) NOT NULL,
  `IDPERSONNEL` bigint(4) NOT NULL AUTO_INCREMENT,
  `NOM` varchar(32) DEFAULT NULL,
  `PRENOM` varchar(32) DEFAULT NULL,
  `LOGIN` varchar(32) DEFAULT NULL,
  `MDP` varchar(32) DEFAULT NULL,
  PRIMARY KEY (`IDPERSONNEL`),
  KEY `FK_MEDECIN_SPECIALITE` (`IDSPECIALITE`),
  CONSTRAINT `FK_MEDECIN_SPECIALITE` FOREIGN KEY (`IDSPECIALITE`) REFERENCES `SPECIALITE` (`IDSPECIALITE`) ON DELETE CASCADE,
  CONSTRAINT `FK_MEDECIN_STAFF` FOREIGN KEY (`IDPERSONNEL`) REFERENCES `PERSONNEL` (`IDPERSONNEL`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=28 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `MEDECIN`
--

LOCK TABLES `MEDECIN` WRITE;
/*!40000 ALTER TABLE `MEDECIN` DISABLE KEYS */;
INSERT INTO `MEDECIN` VALUES (5,26,NULL,NULL,NULL,NULL),(7,27,NULL,NULL,NULL,NULL);
/*!40000 ALTER TABLE `MEDECIN` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `MOTIF`
--

DROP TABLE IF EXISTS `MOTIF`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `MOTIF` (
  `IDMOTIF` int(11) NOT NULL AUTO_INCREMENT,
  `LIBELLEMOTIF` varchar(32) DEFAULT NULL,
  `MONTANT` int(11) DEFAULT NULL,
  PRIMARY KEY (`IDMOTIF`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `MOTIF`
--

LOCK TABLES `MOTIF` WRITE;
/*!40000 ALTER TABLE `MOTIF` DISABLE KEYS */;
INSERT INTO `MOTIF` VALUES (5,'obstruction',100),(6,'covid-19',0),(7,'fracture',0),(8,'AVC',0),(9,'controle medical',0),(10,'vaccination',0),(12,'A11',200);
/*!40000 ALTER TABLE `MOTIF` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `NECESSITE`
--

DROP TABLE IF EXISTS `NECESSITE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `NECESSITE` (
  `IDCONSIGNE` int(11) NOT NULL,
  `IDMOTIF` int(11) NOT NULL,
  PRIMARY KEY (`IDCONSIGNE`,`IDMOTIF`),
  KEY `FK_NECESSITE_MOTIF` (`IDMOTIF`),
  CONSTRAINT `FK_NECESSITE_CONSIGNE` FOREIGN KEY (`IDCONSIGNE`) REFERENCES `CONSIGNE` (`IDCONSIGNE`) ON DELETE CASCADE,
  CONSTRAINT `FK_NECESSITE_MOTIF` FOREIGN KEY (`IDMOTIF`) REFERENCES `MOTIF` (`IDMOTIF`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `NECESSITE`
--

LOCK TABLES `NECESSITE` WRITE;
/*!40000 ALTER TABLE `NECESSITE` DISABLE KEYS */;
INSERT INTO `NECESSITE` VALUES (2,5);
/*!40000 ALTER TABLE `NECESSITE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `PERSONNEL`
--

DROP TABLE IF EXISTS `PERSONNEL`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `PERSONNEL` (
  `IDPERSONNEL` bigint(4) NOT NULL AUTO_INCREMENT,
  `IDCATEGORIE` int(11) NOT NULL,
  `NOM` varchar(32) DEFAULT NULL,
  `PRENOM` varchar(32) DEFAULT NULL,
  `LOGIN` varchar(32) DEFAULT NULL,
  `MDP` varchar(32) DEFAULT NULL,
  PRIMARY KEY (`IDPERSONNEL`),
  KEY `FK_STAFF_ROLE` (`IDCATEGORIE`),
  CONSTRAINT `FK_STAFF_ROLE` FOREIGN KEY (`IDCATEGORIE`) REFERENCES `CATEGORIE` (`IDCATEGORIE`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=29 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `PERSONNEL`
--

LOCK TABLES `PERSONNEL` WRITE;
/*!40000 ALTER TABLE `PERSONNEL` DISABLE KEYS */;
INSERT INTO `PERSONNEL` VALUES (7,3,'Directeur','Mr. Directeur','loginD','mdpD'),(24,1,'Agent','Agent','loginA','mdpA'),(26,2,'med','med','med','med'),(27,2,'M11','M11','M11','M11');
/*!40000 ALTER TABLE `PERSONNEL` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `PIECE`
--

DROP TABLE IF EXISTS `PIECE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `PIECE` (
  `IDPIECE` int(11) NOT NULL AUTO_INCREMENT,
  `LIBELLEPIECE` varchar(32) DEFAULT NULL,
  PRIMARY KEY (`IDPIECE`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `PIECE`
--

LOCK TABLES `PIECE` WRITE;
/*!40000 ALTER TABLE `PIECE` DISABLE KEYS */;
INSERT INTO `PIECE` VALUES (5,'P1'),(6,'P2'),(7,'P3'),(8,'P4'),(9,'P5'),(10,'P6');
/*!40000 ALTER TABLE `PIECE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `RDV`
--

DROP TABLE IF EXISTS `RDV`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `RDV` (
  `IDRDV` int(11) NOT NULL AUTO_INCREMENT,
  `IDSPECIALITE` int(11) NOT NULL,
  `IDMOTIF` int(11) NOT NULL,
  `IDCLIENT` int(11) NOT NULL,
  `DATE` datetime DEFAULT NULL,
  PRIMARY KEY (`IDRDV`),
  KEY `FK_RDV_MEDECIN` (`IDSPECIALITE`),
  KEY `FK_RDV_MOTIF` (`IDMOTIF`),
  KEY `FK_RDV_PATIENT` (`IDCLIENT`),
  CONSTRAINT `FK_RDV_MEDECIN` FOREIGN KEY (`IDSPECIALITE`) REFERENCES `MEDECIN` (`IDSPECIALITE`) ON DELETE CASCADE,
  CONSTRAINT `FK_RDV_MOTIF` FOREIGN KEY (`IDMOTIF`) REFERENCES `MOTIF` (`IDMOTIF`) ON DELETE CASCADE,
  CONSTRAINT `FK_RDV_PATIENT` FOREIGN KEY (`IDCLIENT`) REFERENCES `CLIENT` (`IDCLIENT`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `RDV`
--

LOCK TABLES `RDV` WRITE;
/*!40000 ALTER TABLE `RDV` DISABLE KEYS */;
INSERT INTO `RDV` VALUES (6,5,5,6,'2023-01-10 01:00:00'),(7,5,5,6,'2023-01-12 01:00:00'),(8,5,5,6,'2023-01-17 03:00:00'),(9,5,5,6,'2023-01-17 03:00:00'),(10,7,12,7,'2023-01-10 16:00:00');
/*!40000 ALTER TABLE `RDV` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `REQUIERT`
--

DROP TABLE IF EXISTS `REQUIERT`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `REQUIERT` (
  `IDPIECE` int(11) NOT NULL,
  `IDMOTIF` int(11) NOT NULL,
  PRIMARY KEY (`IDPIECE`,`IDMOTIF`),
  KEY `FK_REQUIERT_MOTIF` (`IDMOTIF`),
  CONSTRAINT `FK_REQUIERT_MOTIF` FOREIGN KEY (`IDMOTIF`) REFERENCES `MOTIF` (`IDMOTIF`) ON DELETE CASCADE,
  CONSTRAINT `FK_REQUIERT_PIECE` FOREIGN KEY (`IDPIECE`) REFERENCES `PIECE` (`IDPIECE`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `REQUIERT`
--

LOCK TABLES `REQUIERT` WRITE;
/*!40000 ALTER TABLE `REQUIERT` DISABLE KEYS */;
INSERT INTO `REQUIERT` VALUES (5,5),(5,12),(7,5);
/*!40000 ALTER TABLE `REQUIERT` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `SPECIALITE`
--

DROP TABLE IF EXISTS `SPECIALITE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `SPECIALITE` (
  `IDSPECIALITE` int(11) NOT NULL AUTO_INCREMENT,
  `LIBELLESPECIALITE` varchar(32) DEFAULT NULL,
  PRIMARY KEY (`IDSPECIALITE`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `SPECIALITE`
--

LOCK TABLES `SPECIALITE` WRITE;
/*!40000 ALTER TABLE `SPECIALITE` DISABLE KEYS */;
INSERT INTO `SPECIALITE` VALUES (1,'spe1'),(2,'spe2'),(3,'spe3'),(4,'Généraliste'),(5,'Dermatologue'),(6,'Cardiologue'),(7,'Radiologue'),(8,'Cancerologue'),(9,'Neurologue');
/*!40000 ALTER TABLE `SPECIALITE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TACHEADMIN`
--

DROP TABLE IF EXISTS `TACHEADMIN`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `TACHEADMIN` (
  `IDTACHEADMIN` int(11) NOT NULL AUTO_INCREMENT,
  `DATEHEURE` datetime DEFAULT NULL,
  `IDPERSONNEL` int(11) NOT NULL,
  PRIMARY KEY (`IDTACHEADMIN`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TACHEADMIN`
--

LOCK TABLES `TACHEADMIN` WRITE;
/*!40000 ALTER TABLE `TACHEADMIN` DISABLE KEYS */;
INSERT INTO `TACHEADMIN` VALUES (1,'2023-01-10 18:00:00',25),(2,'2023-01-11 18:00:00',25),(3,'2023-01-11 07:00:00',26),(4,'2023-01-12 07:00:00',26),(5,'2023-01-11 07:00:00',26),(6,'2023-01-12 07:00:00',26),(7,'2023-01-10 15:00:00',27),(8,'2023-01-11 05:00:00',26);
/*!40000 ALTER TABLE `TACHEADMIN` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2023-02-24 19:00:22
